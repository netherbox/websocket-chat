<ul class="messages" #messages>
  <li *ngFor="let message of chatService.messages$ | async">
    <div class="author">
      {{ message.createdBy }}
      <span class="stamp">{{ message.createdAt | date: "shortTime" }}</span>
    </div>

    <div class="deleted" *ngIf="message.deleted">
      The message was deleted by {{ message.deletedBy }} at
      {{ message.createdAt | date: "shortTime" }}
    </div>

    <ng-container *ngIf="!message.deleted">
      <div class="text">
        {{ message.text }}
      </div>
      <div class="tools" *ngIf="message.createdBy == chatService.currentUserId">
        <button (click)="onEditClick(message)">Edit</button> &#160;
        <button (click)="onDeleteClick(message)">Delete</button>
      </div>
    </ng-container>
  </li>
</ul>

<form class="form" (submit)="onSendMessageSubmit(messageInput)">
  <input class="input" placeholder="Message" required #messageInput />
</form>
